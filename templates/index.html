<!DOCTYPE html>
 <html>
 <head>
   <title>Database Query</title>
 </head>
 <body>
   <h1>Query the Database</h1>
   <form action="/query" method="post" id="queryForm">
    <textarea name="query" rows="4" cols="50" placeholder="Enter SQL query..."></textarea>
    <br>
    <button type="submit">Run Query</button>
  </form>

  <h2>Results:</h2>
  {% if data %}
      {% if data is iterable and data is not string %}
          {% if data|length > 0 %}
              <table border="1" cellpadding="5">
                  <tr>
                      {% for key in data[0].keys() %}
                          <th>{{ key }}</th>
                      {% endfor %}
                  </tr>
                  {% for row in data %}
                      <tr>
                          {% for value in row.values() %}
                              <td>{{ value }}</td>
                          {% endfor %}
                      </tr>
                  {% endfor %}
              </table>
          {% else %}
              <p>No rows returned.</p>
          {% endif %}
      {% else %}
          <p>{{ data }}</p>
      {% endif %}
  {% else %}
      <p>No data returned.</p>
  {% endif %}

<a href="/">Product Management</a>
</body>
</html>